package net.emof.building.dao;

import java.util.List;

import org.apache.ibatis.annotations.Param;
import org.apache.ibatis.annotations.Select;
import org.apache.ibatis.annotations.Update;

import net.emof.building.model.Confs;

public interface ConfsMapper {

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table confs
	 * @mbggenerated
	 */
	int deleteByPrimaryKey(String id);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table confs
	 * @mbggenerated
	 */
	int insert(Confs record);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table confs
	 * @mbggenerated
	 */
	int insertSelective(Confs record);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table confs
	 * @mbggenerated
	 */
	Confs selectByPrimaryKey(String id);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table confs
	 * @mbggenerated
	 */
	int updateByPrimaryKeySelective(Confs record);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table confs
	 * @mbggenerated
	 */
	int updateByPrimaryKeyWithBLOBs(Confs record);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table confs
	 * @mbggenerated
	 */
	int updateByPrimaryKey(Confs record);

	/**
	 * 查询前一天未发布的会�?
	 * @author xilongfei
	 * @creation 2017�?12�?26�?
	 * @param days	前一天时�?
	 * @return
	 */
	@Select("SELECT * FROM confs WHERE DATE_FORMAT(createtime,'%Y-%m-%d') < DATE_FORMAT(#{days},'%Y-%m-%d') and state=2")
	List<Confs> selectNoRlsConfs(String days);
	
	/**
     * 删除未发布的会议
     * @author xilongfei
     * @creation 2017�?12�?26�?
     * @param confs  会议集合
     * @return
     */
	int deletetNoRlsConfs(@Param("confs") List<Confs> confs);
	
	/**
     * 修改会议浏览数量
     * @author xilongfei
     * @creation 2017年12月28日
	 * @param browse  浏览数量
	 * @return
	 */
	@Update("update confs set browsenum=#{browse} where id=#{id}")
    int updateBrowseNum(@Param("browse")int browse, @Param("id")String id);  
}