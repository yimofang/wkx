package net.emof.building.dao;

import java.util.List;

import org.apache.ibatis.annotations.Param;
import org.apache.ibatis.annotations.Select;

import net.emof.building.model.QnrTitle;

public interface QnrTitleMapper {

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table qnr_title
	 * @mbggenerated
	 */
	int deleteByPrimaryKey(String id);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table qnr_title
	 * @mbggenerated
	 */
	int insert(QnrTitle record);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table qnr_title
	 * @mbggenerated
	 */
	int insertSelective(QnrTitle record);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table qnr_title
	 * @mbggenerated
	 */
	QnrTitle selectByPrimaryKey(String id);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table qnr_title
	 * @mbggenerated
	 */
	int updateByPrimaryKeySelective(QnrTitle record);

	/**
	 * This method was generated by MyBatis Generator. This method corresponds to the database table qnr_title
	 * @mbggenerated
	 */
	int updateByPrimaryKey(QnrTitle record);
	
	/**
	 * 根据问题id查询问题信息与问题下的选项信息
	 * @author xilongfei
	 * @creation 2017年12月18日
	 * @param id	问题id
	 * @return	
	 */
	QnrTitle getTitleInfo(String id);
	
	/**
	 * 判断会议问卷下问题是否已添加
	 * @author xilongfei
	 * @creation 2017年12月18日
	 * @param fname		问题名称
	 * @param confid 	会议id
	 * @param qnrid 	问卷id
	 * @return
	 */
	@Select("SELECT COUNT(id) from qnr_title where fname=#{fname} and qnrid=#{qnrid} and confsid=#{confid} and isdelete=1")
	Integer getTitleByFname(@Param("fname")String fname, @Param("qnrid")String qnrid, @Param("confid")String confid);

	/**
	 * 根据会议id查询所有问题
	 * @author xilongfei
	 * @creation 2017年12月18日
	 * @param id	会议id
	 * @return	
	 */
	@Select("SELECT id, fname, tstate from qnr_title where confsid=#{confid} and isdelete=1")
	List<QnrTitle> selectQnrTitlelist(String confid);

}